diff -up llvm-project-release-16.x/bolt/runtime/CMakeLists.txt.4~ llvm-project-release-16.x/bolt/runtime/CMakeLists.txt
--- llvm-project-release-16.x/bolt/runtime/CMakeLists.txt.4~	2023-01-30 17:16:18.082375458 +0100
+++ llvm-project-release-16.x/bolt/runtime/CMakeLists.txt	2023-01-30 17:40:57.751744690 +0100
@@ -27,9 +27,12 @@ set(BOLT_RT_FLAGS
   -fno-exceptions
   -fno-rtti
   -fno-stack-protector
-  -mno-sse
   -fPIC)
 
+if (CMAKE_SYSTEM_PROCESSOR MATCHES "(x86)|(X86)|(amd64)|(AMD64)")
+  set(BOLT_RT_FLAGS ${BOLT_RT_FLAGS} -mno-sse -mfpmath=387)
+endif ()
+
 # Don't let the compiler think it can create calls to standard libs
 target_compile_options(bolt_rt_instr PRIVATE ${BOLT_RT_FLAGS})
 target_include_directories(bolt_rt_instr PRIVATE ${CMAKE_CURRENT_BINARY_DIR})
