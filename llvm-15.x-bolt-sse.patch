diff -up llvm-project-release-15.x/bolt/runtime/CMakeLists.txt.omv~ llvm-project-release-15.x/bolt/runtime/CMakeLists.txt
--- llvm-project-release-15.x/bolt/runtime/CMakeLists.txt.omv~	2022-08-02 12:10:37.597370941 +0200
+++ llvm-project-release-15.x/bolt/runtime/CMakeLists.txt	2022-08-02 12:15:40.278304540 +0200
@@ -23,8 +23,11 @@ set(BOLT_RT_FLAGS
   -ffreestanding
   -fno-exceptions
   -fno-rtti
-  -fno-stack-protector
-  -mno-sse)
+  -fno-stack-protector)
+
+if (CMAKE_SYSTEM_PROCESSOR MATCHES "(x86)|(X86)|(amd64)|(AMD64)")
+  set(BOLT_RT_FLAGS ${BOLT_RT_FLAGS} -mno-sse -mfpmath=387)
+endif ()
 
 # Don't let the compiler think it can create calls to standard libs
 target_compile_options(bolt_rt_instr PRIVATE ${BOLT_RT_FLAGS} -fPIE)
