diff -up llvm-7.0.0.src/projects/libcxx/include/__config.libcxxmusl~ llvm-7.0.0.src/projects/libcxx/include/__config
--- llvm-7.0.0.src/projects/libcxx/include/__config.libcxxmusl~	2018-04-25 19:00:56.235180051 +0200
+++ llvm-7.0.0.src/projects/libcxx/include/__config	2018-04-25 19:02:50.502574625 +0200
@@ -420,6 +420,13 @@ typedef __char32_t char32_t;
 #define _LIBCPP_HAS_NO_VARIABLE_TEMPLATES
 #endif
 
+#include <features.h>
+#if defined(__linux__) && !defined(__ANDROID__) && !defined(__GLIBC__)
+// If it's Linux, but neither GLIBC nor Android, it's likely musl...
+// (uClibc defined __GLIBC__ for compatibility)
+#define _LIBCPP_HAS_MUSL_LIBC
+#endif
+
 #if __ISO_C_VISIBLE >= 2011 || __cplusplus >= 201103L
 #  if defined(__FreeBSD__)
 #    define _LIBCPP_HAS_QUICK_EXIT
