diff -up llvm-project-release-15.x/clang/lib/Driver/ToolChains/Linux.cpp.omv~ llvm-project-release-15.x/clang/lib/Driver/ToolChains/Linux.cpp
--- llvm-project-release-15.x/clang/lib/Driver/ToolChains/Linux.cpp.omv~	2022-08-26 18:21:44.671465853 +0200
+++ llvm-project-release-15.x/clang/lib/Driver/ToolChains/Linux.cpp	2022-08-26 18:22:14.829637556 +0200
@@ -253,7 +253,7 @@ Linux::Linux(const Driver &D, const llvm
   }
 
 #ifdef ENABLE_LINKER_BUILD_ID
-  ExtraOpts.push_back("--build-id");
+  ExtraOpts.push_back("--build-id=sha1");
 #endif
 
   if (IsAndroid || Distro.IsOpenSUSE() || Distro.IsOpenMandriva())
diff -up llvm-project-release-15.x/lld/ELF/Driver.cpp.omv~ llvm-project-release-15.x/lld/ELF/Driver.cpp
--- llvm-project-release-15.x/lld/ELF/Driver.cpp.omv~	2022-08-26 18:20:46.778135709 +0200
+++ llvm-project-release-15.x/lld/ELF/Driver.cpp	2022-08-26 18:21:07.660254877 +0200
@@ -814,7 +814,7 @@ static std::pair<BuildIdKind, std::vecto
 getBuildId(opt::InputArgList &args) {
   auto *arg = args.getLastArg(OPT_build_id);
   if (!arg)
-    return {BuildIdKind::None, {}};
+    return {BuildIdKind::Sha1, {}};
 
   StringRef s = arg->getValue();
   if (s == "fast")
